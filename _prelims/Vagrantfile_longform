# -*- mode: ruby -*-
# vi: set ft=ruby :

VAGRANTFILE_API_VERSION = '2'.freeze

Vagrant.configure(VAGRANTFILE_API_VERSION) do |config|
  config.vm.box = 'ubuntu/xenial64'

  # manager1
  config.vm.provider 'virtualbox' do |vb|
    vb.name = 'manager1'
  end
  config.vm.define 'manager1' do |host|
    host.vm.hostname = 'manager1'
    host.vm.network 'private_network', ip: '192.168.50.10'
    host.vm.provision 'shell', inline: 'ip addr'
    config.vm.provision 'docker'
  end

  # manager2
  config.vm.provider 'virtualbox' do |vb|
    vb.name = 'manager2'
  end
  config.vm.define 'manager2' do |host|
    host.vm.hostname = 'manager2'
    host.vm.network 'private_network', ip: '192.168.50.11'
    host.vm.provision 'shell', inline: 'ip addr'
    config.vm.provision 'docker'
  end

  # manager3
  config.vm.provider 'virtualbox' do |vb|
    vb.name = 'manager3'
  end
  config.vm.define 'manager3' do |host|
    host.vm.hostname = 'manager3'
    host.vm.network 'private_network', ip: '192.168.50.12'
    host.vm.provision 'shell', inline: 'ip addr'
    config.vm.provision 'docker'
  end

  # worker1
  config.vm.provider 'virtualbox' do |vb|
    vb.name = 'worker1'
  end
  config.vm.define 'worker1' do |host|
    host.vm.hostname = 'worker1'
    host.vm.network 'private_network', ip: '192.168.50.20'
    host.vm.provision 'shell', inline: 'ip addr'
    config.vm.provision 'docker'
  end

  # worker2
  config.vm.provider 'virtualbox' do |vb|
    vb.name = 'worker2'
  end
  config.vm.define 'worker2' do |host|
    host.vm.hostname = 'worker2'
    host.vm.network 'private_network', ip: '192.168.50.21'
    host.vm.provision 'shell', inline: 'ip addr'
    config.vm.provision 'docker'
  end

  # worker3
  config.vm.provider 'virtualbox' do |vb|
    vb.name = 'worker3'
  end
  config.vm.define 'worker3' do |host|
    host.vm.hostname = 'worker3'
    host.vm.network 'private_network', ip: '192.168.50.22'
    host.vm.provision 'shell', inline: 'ip addr'
    config.vm.provision 'docker'
  end
end
